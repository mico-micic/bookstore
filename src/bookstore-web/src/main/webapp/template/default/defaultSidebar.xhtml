<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <body>

        <ui:composition>

            <ui:insert name="searchGadget" >
                <div class="searchform">
                    <ui:include src="/components/searchComponent.xhtml" >
                        <ui:param name="idPrefix" value="searchGadget" />
                    </ui:include>
                </div>
            </ui:insert>

            <div class="gadget">
                <h2 class="star">Shopping cart <h:outputText value="(${catalogBean.cart.bookCount})" rendered="#{not empty catalogBean.cart.bookOrders}"/></h2>
                <div class="clr"></div>
                <h:dataTable id="shoppingCartGadgetTable" value="#{catalogBean.cart.bookOrders}" var="bookOrder" rendered="#{not empty catalogBean.cart.bookOrders}" 
                             styleClass="shoppingCartGadgetTable" columnClasses="shoppingCartGadgetTableNameCol,,shoppingCartTablePriceCol">
                    <h:column>
                        <h:outputText value="#{bookOrder.book.title}" />
                    </h:column>
                    <h:column>
                        <h:outputText value="#{bookOrder.count} Pcs." />
                    </h:column>
                    <h:column>
                        <h:outputText value="#{bookOrder.book.price}" />
                    </h:column>
                </h:dataTable>

                <h:dataTable id="shoppingCartGadgetTableTotal" value="#{catalogBean.cart}" var="cart" rendered="#{not empty catalogBean.cart.bookOrders}" 
                             styleClass="shoppingCartGadgetTable shoppingCartTableTotal" columnClasses="shoppingCartGadgetTableNameCol,,shoppingCartTablePriceCol">
                    <h:column>
                        <h:outputText value="Total" />
                    </h:column>
                    <h:column>
                        <h:outputText value="" />
                    </h:column>
                    <h:column>
                        <h:outputText value="#{cart.totalPrice}" />
                    </h:column>
                </h:dataTable>

                <h:outputText value="Your shopping cart is empty :(" rendered="#{empty catalogBean.cart.bookOrders}" />

                <p style="text-align: right; width: 100%;">
                    <h:outputLink value="cart.xhtml" rendered="#{not empty catalogBean.cart.bookOrders}"><h:outputText value="To shopping cart..." /></h:outputLink>
                </p>
            </div>

            <div class="gadget">
                <h2 class="star">Your profile</h2>
                <div class="clr"></div>
                <p>Name: Hans Muster</p>
                <p>Address: Musterstr. 6, Musterhausen</p>
                <a href="#">Edit...</a>
            </div>

        </ui:composition>

    </body>
</html>